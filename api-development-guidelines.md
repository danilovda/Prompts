Модернизируйте StorageService.Api и EquipmentDocs.Api, применяя следующие принципы:

**Организация кода:**
- Регистрацию endpoint'ов выполнять через Extension-методы в папке `Endpoints/V{номер}` (например, `Endpoints/V1/`).
- Handler'ы размещать в `EndpointHandlers/V{номер}/`.
- Использовать URL-based версионирование (`/api/v1/ресурс`).

**Структура обработчиков:**
- Handler-методы делайте статическими, асинхронными, с явным `CancellationToken`.
- Сервисы передавайте как параметры методов.
- Порядок параметров: сервисы, затем параметры запроса/маршрута.
- Нормализуйте входные данные.

**Версионирование:**
- Breaking changes требуют новой версии.
- Поддерживайте минимум 2 активные версии.
- Помечайте устаревшие версии.
- Группируйте в Swagger через `WithTags("v1")`.

**Возвращаемые значения:**
- Используйте `TypedResults` для строгой типизации.
- Возвращайте DTO или `IResult`.

**Документация:**
- Добавляйте `WithTags()`, `WithName()`, `WithSummary()` для OpenAPI.
- Снабжайте XML-комментариями.
- Указывайте версию в описании endpoint'ов.

**Регистрация сервисов:**
Сервисы приложения должны регистрироваться через расширяющие методы:
- AddPresentation()
- AddApplication()
- AddInfrastructure(builder.Configuration)
  
Регистрация сервисов должна быть инкапсулирована в соответствующих слоях и вызываться из Program.cs.
Данный подход обеспечивает разделение ответственности, улучшает читаемость и упрощает сопровождение конфигурации.
  

**Принципы:**
- Делегируйте бизнес-логику сервисам.
- Handler'ы должны быть краткими, детерминированными.
- Соблюдайте принцип единственной ответственности.
- Используйте `async`/`await` для неблокирующих операций.
