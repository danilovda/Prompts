# –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è `StorageService.Api` –∏ `EquipmentDocs.Api`

## (Vertical Slice Architecture)

–ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä—É–π—Ç–µ `StorageService.Api` –∏ `EquipmentDocs.Api`, –ø—Ä–∏–º–µ–Ω—è—è –ø–æ–¥—Ö–æ–¥ **Vertical Slice Architecture** –∏ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã.

---

## üß± –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Vertical Slice)

* –ö–∞–∂–¥—ã–π –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–π (**use case**) –æ—Ñ–æ—Ä–º–ª—è–π—Ç–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π **vertical slice**
* –ö–∞–∂–¥—ã–π slice –¥–æ–ª–∂–µ–Ω **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å** –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏—è:

  * endpoint
  * handler
  * DTO
  * –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
  * –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
* –ò–∑–±–µ–≥–∞–π—Ç–µ –æ–±—â–∏—Ö ¬´–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö¬ª –ø–∞–ø–æ–∫ (`Controllers`, `Services`, `Models`), –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∫—Ä–æ—Å—Å-—Å—Ä–µ–∑–æ–≤—ã–º–∏

---

## üåê –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è endpoint'–æ–≤ –∏ –≤–µ—Ä—Å–∏–π

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **URL-based –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**

  ```
  /api/v{version}/{resource}
  ```
* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é endpoint'–æ–≤ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —á–µ—Ä–µ–∑ **Extension-–º–µ—Ç–æ–¥—ã**
* –í–µ—Ä—Å–∏–∏ —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –≤ –ø–∞–ø–∫–∞—Ö:

  ```
  Endpoints/V{–Ω–æ–º–µ—Ä}/
  ```
* –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ endpoint'—ã –≤ Swagger:

  * `WithTags("v1")`
  * —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ endpoint'–æ–≤

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Vertical Slice

–ö–∞–∂–¥—ã–π slice —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –≤ —Ä–∞–º–∫–∞—Ö –≤–µ—Ä—Å–∏–∏:

```text
Endpoints/
 ‚îî‚îÄ‚îÄ V1/
     ‚îî‚îÄ‚îÄ Storage/
         ‚îî‚îÄ‚îÄ Create/
             ‚îú‚îÄ‚îÄ Endpoint.cs
             ‚îú‚îÄ‚îÄ Handler.cs
             ‚îú‚îÄ‚îÄ Request.cs
             ‚îú‚îÄ‚îÄ Response.cs
             ‚îî‚îÄ‚îÄ Validator.cs (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
```

* –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –æ–¥–∏–Ω, –µ—Å–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–π —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π
* –û–¥–∏–Ω slice ‚Äî –æ–¥–∏–Ω –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–π

---

## ‚öôÔ∏è Handler'—ã

* Handler-–º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:

  * `static`
  * `async`
  * —Å —è–≤–Ω—ã–º `CancellationToken`
* –°–µ—Ä–≤–∏—Å—ã –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤
* –ü–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

  1. —Å–µ—Ä–≤–∏—Å—ã
  2. –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∞ / –∑–∞–ø—Ä–æ—Å–∞
  3. `CancellationToken`
* Handler **–Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É**
* –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å–∞–º –∏–ª–∏ –¥–æ–º–µ–Ω–Ω—ã–º –º–æ–¥–µ–ª—è–º
* –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ slice

---

## üîÅ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

* **Breaking changes** –æ—Ñ–æ—Ä–º–ª—è–π—Ç–µ –∫–∞–∫ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é slice
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ **–º–∏–Ω–∏–º—É–º 2 –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ API**
* –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–º–µ—á–∞–π—Ç–µ –∫–∞–∫ `deprecated`

---

## üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `TypedResults` –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
* –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ:

  * DTO
  * `IResult`
* –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ OpenAPI

–î–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint'–∞:

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

  * `WithTags()`
  * `WithName()`
  * `WithSummary()`
* –î–æ–±–∞–≤–ª—è–π—Ç–µ XML-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
* –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é API –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ endpoint'–∞

---

## üß© –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

* –°–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä—è—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

  * `AddPresentation()`
  * `AddApplication()`
  * `AddInfrastructure(builder.Configuration)`
* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:

  * –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–ª–æ—è—Ö
  * –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∏–∑ `Program.cs`
* Vertical Slice –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã

* –ö–∞–∂–¥—ã–π slice –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –∑–∞ –æ–¥–∏–Ω –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–π**
* –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ slices
* Handler'—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:

  * –∫—Ä–∞—Ç–∫–∏–º–∏
  * –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
  * –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º–∏
* –°–æ–±–ª—é–¥–∞–π—Ç–µ **SRP**
* –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É slices
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `async / await` –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–≥—É:

* —Å–¥–µ–ª–∞—Ç—å **—É–∫–æ—Ä–æ—á–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–æ–º—Ç–∞** (–¥–ª—è LLM-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞)
* –¥–æ–±–∞–≤–∏—Ç—å **anti-patterns** (—á—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ)
* –ø—Ä–∏–≤–µ—Å—Ç–∏ **—ç—Ç–∞–ª–æ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–≥–æ slice**
* –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ **Minimal APIs + .NET 8**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏, –¥–ª—è —á–µ–≥–æ –∏–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–æ—Ç –ø—Ä–æ–º—Ç.
