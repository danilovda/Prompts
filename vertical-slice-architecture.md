Модернизируйте StorageService.Api и EquipmentDocs.Api, применяя подход Vertical Slice Architecture и следующие принципы:

Общая архитектура (Vertical Slice):

Каждый бизнес-сценарий (use case) оформляйте как отдельный vertical slice.
Slice должен инкапсулировать всё необходимое для сценария:
- endpoint
- handler
- DTO
- валидаторы
- взаимодействие с сервисами

Избегайте общих «горизонтальных» папок (Controllers, Services, Models), если они не являются кросс-срезовыми.

Организация endpoint'ов и версий:

Используйте URL-based версионирование (/api/v1/ресурс).
Регистрацию endpoint'ов выполняйте через Extension-методы.
Версии размещайте в папках:
- Endpoints/V{номер}/

Swagger-группировка:
- Используйте WithTags("v1")
- Указывайте версию в описании endpoint'ов

Структура Vertical Slice:

Каждый slice размещайте в рамках версии, например:

```text
Endpoints/
 └── V1/
     └── Storage/
         └── Create/
             ├── Endpoint.cs
             ├── Handler.cs
             ├── Request.cs
             ├── Response.cs
             └── Validator.cs (при необходимости)
```     

Допускается объединение файлов в один, если сценарий тривиальный.

Handler'ы:

Handler-методы должны быть:
- статическими
- асинхронными
- с явным CancellationToken

Сервисы передавайте через параметры методов.
Порядок параметров:
1) сервисы
2) параметры маршрута / запроса
3) CancellationToken

Handler не должен содержать бизнес-логики.
Вся бизнес-логика должна быть делегирована сервисам или доменным моделям.

Нормализуйте и валидируйте входные данные на уровне slice.

Версионирование:

Breaking changes оформляйте как новую версию slice.
Поддерживайте минимум 2 активные версии API.
Устаревшие версии помечайте как deprecated.

Возвращаемые значения:

Используйте TypedResults для строгой типизации.
Возвращайте DTO или IResult.
Не возвращайте доменные сущности напрямую.

Документация и OpenAPI:

Для каждого endpoint'а:
- Используйте WithTags(), WithName(), WithSummary()
- Добавляйте XML-комментарии
- Указывайте версию API в описании endpoint'а

Регистрация сервисов:

Сервисы приложения регистрируйте через расширяющие методы:
- AddPresentation()
- AddApplication()
- AddInfrastructure(builder.Configuration)

Регистрация должна быть инкапсулирована в соответствующих слоях и вызываться из Program.cs.
Vertical Slice не должен знать о конкретной реализации инфраструктуры.

Принципы:

Каждый slice отвечает только за один бизнес-сценарий.
Изменения в одном сценарии не должны затрагивать другие slices.
Handler'ы должны быть краткими, детерминированными и легко тестируемыми.
Соблюдайте SRP и минимизируйте связность между slices.
Используйте async/await для неблокирующих операций.
